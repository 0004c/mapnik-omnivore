
language: node_js

node_js:
- '0.10'

os:
- linux
- osx

env:
  matrix:
    - NODE_VERSION="0.10"
    - NODE_VERSION="0.11.14"

before_install:
- platform=$(uname -s | sed "y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/")
 # upgrade libstdc++ to support C++11
- if [[ ${platform} == 'linux' ]]; then sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test;sudo apt-get update -y;sudo apt-get install -y libstdc++6; fi;
- rm -rf ~/.nvm/ && git clone --depth 1 https://github.com/creationix/nvm.git ~/.nvm
- source ~/.nvm/nvm.sh
- nvm install $NODE_VERSION
- nvm use $NODE_VERSION

before_script:
- echo "$TRAVIS_SECURE_ENV_VARS"
- echo "$TRAVIS_PULL_REQUEST"
- echo "$TRAVIS_BRANCH"
- echo "$TRAVIS_COMMIT"
- echo "$TRAVIS_REPO_SLUG"

script:
- npm test
- npm run coverage
